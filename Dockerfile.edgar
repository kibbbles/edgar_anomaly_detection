FROM python:3.12-slim

# Install system dependencies
RUN apt-get update && apt-get install -y \
    build-essential \
    && rm -rf /var/lib/apt/lists/*

# Install Python packages for EDGAR processing (chunking, embedding, etc.)
RUN pip install --no-cache-dir \
    sentence-transformers==2.2.2 \
    torch==2.1.0 \
    pandas==2.1.3 \
    pyarrow==14.0.1 \
    tqdm==4.66.1 \
    numpy==1.26.2 \
    tiktoken==0.5.1 \
    ollama==0.1.6

# Create working directory
WORKDIR /app

# Default command
CMD ["/bin/bash"]
